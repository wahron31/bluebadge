<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BlueBadge â€“ Instellingen</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav class="top-nav" role="navigation" aria-label="Hoofdnavigatie">
    <div class="nav-brand"><h1><a href="index.html" style="text-decoration:none; color:inherit;">ðŸš” BlueBadge</a></h1></div>
    <div class="nav-links"><a href="index.html">Dashboard</a></div>
  </nav>
  <main style="max-width:900px;margin:24px auto; padding:0 12px;" role="main">
    <section class="test-interface" style="display:block;">
      <div class="test-container">
        <h3>Configuratie</h3>
        <div class="overview-grid">
          <div class="overview-card">
            <h4>Feature Flags</h4>
            <label><input type="checkbox" id="ff-analytics"> Analytics inschakelen</label><br/>
            <label><input type="checkbox" id="ff-errors"> Foutlogboek inschakelen</label><br/>
            <button class="module-btn" id="save-flags">Opslaan</button>
          </div>
          <div class="overview-card">
            <h4>Data Export/Import</h4>
            <button class="challenge-btn" id="export-app">App data exporteren</button>
            <input type="file" id="import-app" accept="application/json" style="display:none;"/>
            <button class="module-btn" id="import-app-btn">App data importeren</button>
          </div>
          <div class="overview-card">
            <h4>Logboeken</h4>
            <pre id="logs" style="max-height:200px; overflow:auto; background:#0f172a; color:#e2e8f0; padding:8px; border-radius:8px;"></pre>
          </div>
        </div>
      </div>
    </section>
  </main>
  <script>
    function loadFlags(){ try{ const cfg= JSON.parse(localStorage.getItem('bbConfig')||'{}'); document.getElementById('ff-analytics').checked = !!cfg.enableAnalytics; document.getElementById('ff-errors').checked = !!cfg.enableErrorLogging; }catch{} }
    function saveFlags(){ const cfg = { enableAnalytics: document.getElementById('ff-analytics').checked, enableErrorLogging: document.getElementById('ff-errors').checked }; localStorage.setItem('bbConfig', JSON.stringify(cfg)); alert('Opgeslagen'); }
    function exportApp(){ const keys = Object.keys(localStorage).filter(k=> true); const data={}; keys.forEach(k=> data[k]= localStorage.getItem(k)); const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='bluebadge_appdata.json'; a.click(); }
    function importApp(file){ const r=new FileReader(); r.onload=()=>{ try{ const b=JSON.parse(r.result); Object.keys(b||{}).forEach(k=> localStorage.setItem(k, b[k])); alert('GeÃ¯mporteerd'); } catch(e){ alert('Fout: '+e.message); } }; r.readAsText(file); }
    function loadLogs(){ try{ const logs = JSON.parse(localStorage.getItem('errorLogs')||'[]'); document.getElementById('logs').textContent = JSON.stringify(logs, null, 2); } catch{} }
    document.addEventListener('DOMContentLoaded', ()=>{ loadFlags(); loadLogs(); document.getElementById('save-flags').onclick=saveFlags; document.getElementById('export-app').onclick=exportApp; document.getElementById('import-app-btn').onclick=()=> document.getElementById('import-app').click(); document.getElementById('import-app').onchange=(e)=>{ const f=e.target.files[0]; if(f) importApp(f); }; });
  </script>
</body>
</html>