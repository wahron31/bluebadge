<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BlueBadge â€“ Gesprekstraining</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <nav class="top-nav">
      <div class="nav-brand"><h1><a href="index.html" style="text-decoration:none; color:inherit;">ðŸš” BlueBadge</a></h1></div>
      <div class="nav-links">
        <a href="index.html" data-i18n="dashboard">Dashboard</a>
        <a href="simulation.html">Simulatie</a>
      </div>
    </nav>
    <div class="hero-section">
      <h2>GESPREKSTRAINING</h2>
      <p>Interview voorbereiding en rollenspellen</p>
    </div>
  </header>
  <main style="max-width:900px;margin:24px auto; padding:0 12px;">
    <section class="test-interface" style="display:block;">
      <div class="test-container">
        <div class="test-header">
          <div class="test-info"><span id="gsp-counter">1/5</span></div>
          <div class="test-progress"><div class="progress-bar"><div class="progress-fill" id="gsp-fill" style="width:20%"></div></div></div>
        </div>
        <div class="question-container">
          <div class="question-text" id="gsp-prompt">...</div>
          <textarea id="gsp-answer" placeholder="Jouw antwoord..." style="width:100%; min-height:120px; padding:12px; border-radius:8px; border:1px solid #e5e7eb;"></textarea>
        </div>
        <div class="test-controls">
          <button class="control-btn secondary" id="gsp-prev" disabled>Vorige</button>
          <button class="control-btn primary" id="gsp-next">Volgende</button>
          <button class="control-btn success" id="gsp-end" style="display:none;">Einde</button>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <p>Â© 2025 BlueBadge | Classified Training System</p>
  </footer>
  <script>
    const prompts = [
      'Vertel kort over jezelf en je motivatie om bij de politie te werken.',
      'Beschrijf een situatie waarin je onder druk moest handelen.',
      'Hoe ga je om met een conflict tussen collega\'s?',
      'Geef een voorbeeld van empathische communicatie met een burger.',
      'Wat zijn je sterke en zwakke punten?' 
    ];
    let idx=0; let answers = new Array(prompts.length).fill('');
    function render(){
      document.getElementById('gsp-counter').textContent = `${idx+1}/${prompts.length}`;
      document.getElementById('gsp-fill').style.width = (((idx+1)/prompts.length)*100)+'%';
      document.getElementById('gsp-prompt').textContent = prompts[idx];
      document.getElementById('gsp-answer').value = answers[idx]||'';
      document.getElementById('gsp-prev').disabled = idx===0;
      const onLast = idx===prompts.length-1;
      document.getElementById('gsp-end').style.display = onLast? 'block':'none';
    }
    function next(){ answers[idx] = (document.getElementById('gsp-answer').value||'').trim(); if(idx<prompts.length-1){ idx++; render(); } }
    function prev(){ answers[idx] = (document.getElementById('gsp-answer').value||'').trim(); if(idx>0){ idx--; render(); } }
    function end(){
      answers[idx] = (document.getElementById('gsp-answer').value||'').trim();
      const completeness = Math.round((answers.filter(a=>a.length>=10).length / prompts.length) * 100);
      const result = { date: new Date().toISOString().split('T')[0], time: new Date().toLocaleTimeString('nl-NL'), category:'gesprek', score: completeness, total:100, percentage: completeness, type:'gesprek' };
      try { const list = JSON.parse(localStorage.getItem('quizResults')||'[]'); list.unshift(result); localStorage.setItem('quizResults', JSON.stringify(list.slice(0,100))); } catch(e){}
      try { localStorage.setItem('lastQuizResult', JSON.stringify({ type:'gesprek', score: completeness, total:100, percentage: completeness, questions: prompts.map((p,i)=>({ vraag:p, opties:[], userIndex:null, correctIndex:null, uitleg: (answers[i]||'') })) })); } catch(e){}
      location.href='resultaten.html';
    }
    document.addEventListener('DOMContentLoaded', ()=>{
      render();
      document.getElementById('gsp-next').addEventListener('click', next);
      document.getElementById('gsp-prev').addEventListener('click', prev);
      document.getElementById('gsp-end').addEventListener('click', end);
    });
  </script>
</body>
</html>