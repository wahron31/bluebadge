<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BlueBadge – Taalvaardigheden</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="with-sidebar with-right">
  <header>
    <nav class="top-nav">
      <div class="nav-brand">
        <h1><a href="index.html" style="text-decoration:none; color:inherit;">🚔 BlueBadge</a></h1>
      </div>
      <div class="nav-links">
        <a href="index.html" data-i18n="dashboard">Dashboard</a>
        <a href="quiz.html" data-i18n="daily_quiz">Dagelijkse Quiz</a>
        <a href="cognitief.html" data-i18n="cognitive_skills">Cognitieve Vaardigheden</a>
        <a href="taal.html" data-i18n="language_training">Taaltraining</a>
        <a href="voortgang.html" data-i18n="progress">Voortgang</a>
        <a href="scenarios.html" data-i18n="police_scenarios">Politie Scenario's</a>
        <a href="gesprek.html" data-i18n="interview_training">Gesprekstraining</a>
        <select id="language-select" aria-label="Language" style="margin-left: 8px;">
          <option value="nl">NL</option>
          <option value="fr">FR</option>
          <option value="en">EN</option>
          <option value="de">DE</option>
          <option value="tr">TR</option>
        </select>
        <div id="language-switcher"></div>
      </div>
    </nav>
    <div class="hero-section">
      <h2>TAALVAARDIGHEDEN</h2>
      <p>Verbeter je Nederlands voor de politie-examens • Woordenschat, Grammatica, Begrip</p>
      <div class="stats-bar">
        <div class="stat-item">
          <span class="stat-number" id="taal-completed">0</span>
          <span class="stat-label">Testen Voltooid</span>
        </div>
        <div class="stat-item">
          <span class="stat-number" id="taal-score">0%</span>
          <span class="stat-label">Gemiddelde Score</span>
        </div>
        <div class="stat-item">
          <span class="stat-number" id="words-learned">0</span>
          <span class="stat-label">Woorden Geleerd</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="language-categories">
      <h3>📚 Taalvaardigheid Categorieën</h3>
      <div class="challenge-grid">
        <div class="challenge-card">
          <div class="module-icon">📖</div>
          <h4>Begrijpend Lezen</h4>
          <p>Tekstbegrip, hoofdgedachte, details herkennen</p>
          <div class="module-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="lezen-progress" style="width: 0%"></div>
            </div>
            <span id="lezen-progress-text">0% voltooid</span>
          </div>
          <button class="challenge-btn" onclick="startLanguageTest('lezen')">Start Leesvaardigheid</button>
        </div>
        <div class="challenge-card">
          <div class="module-icon">🎧</div>
          <h4>Luistervaardigheid</h4>
          <p>Audio fragmenten begrijpen en analyseren</p>
          <div class="module-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="luisteren-progress" style="width: 0%"></div>
            </div>
            <span id="luisteren-progress-text">0% voltooid</span>
          </div>
          <button class="challenge-btn" onclick="startLanguageTest('luisteren')">Start Luistervaardigheid</button>
        </div>
        <div class="challenge-card">
          <div class="module-icon">📝</div>
          <h4>Woordenschat</h4>
          <p>Politie terminologie en algemene woordkennis</p>
          <div class="module-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="woorden-progress" style="width: 0%"></div>
            </div>
            <span id="woorden-progress-text">0% voltooid</span>
          </div>
          <button class="challenge-btn" onclick="startLanguageTest('woorden')">Start Woordenschat</button>
        </div>
        <div class="challenge-card">
          <div class="module-icon">✏️</div>
          <h4>Grammatica</h4>
          <p>Nederlandse grammatica regels en toepassing</p>
          <div class="module-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="grammatica-progress" style="width: 0%"></div>
            </div>
            <span id="grammatica-progress-text">0% voltooid</span>
          </div>
          <button class="challenge-btn" onclick="startLanguageTest('grammatica')">Start Grammatica</button>
        </div>
      </div>
    </section>

    <section class="word-learning">
      <h3>📖 Dagelijkse Woordenschat Uitbreiding</h3>
      <div class="word-learning-container">
        <div class="daily-words">
          <div class="word-card advanced">
            <div class="word-header">
              <h4 id="current-word">Handhaving</h4>
              <span class="difficulty-badge" id="word-difficulty">Gevorderd</span>
            </div>
            <div class="word-content">
              <p class="word-meaning" id="word-meaning">Het toezien op de naleving van wetten en regels</p>
              <p class="word-example" id="word-example">"De politie is verantwoordelijk voor de handhaving van de verkeerswetten."</p>
              <div class="word-details">
                <span class="word-type" id="word-type">Zelfstandig naamwoord</span>
                <span class="word-origin" id="word-origin">Juridisch</span>
              </div>
            </div>
            <div class="word-actions">
              <button class="word-btn know" onclick="markWordKnown()">Ik ken dit woord</button>
              <button class="word-btn study" onclick="studyWord()">Bestuderen</button>
              <button class="word-btn next" onclick="nextWord()">Volgend woord</button>
            </div>
          </div>
        </div>

        <div class="word-stats">
          <div class="stat-box">
            <span class="stat-number" id="words-today">5</span>
            <span class="stat-label">Woorden vandaag</span>
          </div>
          <div class="stat-box">
            <span class="stat-number" id="words-week">28</span>
            <span class="stat-label">Deze week</span>
          </div>
          <div class="stat-box">
            <span class="stat-number" id="words-total">156</span>
            <span class="stat-label">Totaal geleerd</span>
          </div>
        </div>
      </div>
    </section>

    <section class="test-interface" id="language-test-interface" style="display: none;">
      <h3 id="language-test-title">Taaltest Interface</h3>
      <div class="test-container">
        <div class="test-header">
          <div class="test-info">
            <span id="lang-question-counter">Vraag 1 van 10</span>
            <span id="lang-test-timer">00:00</span>
          </div>
          <div class="test-progress">
            <div class="progress-bar">
              <div class="progress-fill" id="lang-test-progress-fill" style="width: 10%"></div>
            </div>
          </div>
        </div>
        
        <div class="question-container">
          <div class="reading-passage" id="reading-passage" style="display: none;">
            <!-- Voor leesvaardigheid passages -->
          </div>
          <div class="audio-player" id="audio-player" style="display: none;">
            <!-- Voor luistervaardigheid audio -->
          </div>
          <div class="question-text" id="lang-current-question">
            Vraag wordt geladen...
          </div>
          <div class="question-options" id="lang-question-options">
            <!-- Opties worden dynamisch geladen -->
          </div>
        </div>

        <div class="test-controls">
          <button class="control-btn secondary" onclick="previousLanguageQuestion()" id="lang-prev-btn" disabled>Vorige</button>
          <button class="control-btn primary" onclick="nextLanguageQuestion()" id="lang-next-btn">Volgende</button>
          <button class="control-btn success" onclick="finishLanguageTest()" id="lang-finish-btn" style="display: none;">Test Afronden</button>
          <button class="control-btn" onclick="endGlobalLanguageResults()" id="lang-end-global-btn" style="display: none;">Einde</button>
        </div>
      </div>
    </section>

    <section class="language-results" id="language-test-results" style="display: none;">
      <h3>🎯 Taaltest Resultaten</h3>
      <div class="results-container">
        <div class="score-display">
          <div class="main-score">
            <span class="score-number" id="lang-final-score">0</span>
            <span class="score-total">/ 10</span>
          </div>
          <div class="percentage-score" id="lang-percentage-score">0%</div>
          <div class="performance-rating" id="lang-performance-rating">
            Blijf oefenen!
          </div>
        </div>
        
        <div class="detailed-results">
          <div class="vocabulary-learned">
            <h4>Nieuwe woorden geleerd</h4>
            <div id="new-vocabulary" class="vocabulary-list">
              <!-- Wordt dynamisch gevuld -->
            </div>
          </div>
        </div>

        <div class="result-actions">
          <button class="challenge-btn" onclick="retryLanguageTest()">Test Opnieuw</button>
          <button class="module-btn" onclick="backToLanguageOverview()">Terug naar Overzicht</button>
        </div>
      </div>
    </section>

    <section class="language-tips">
      <h3>💡 Taalleer Tips</h3>
      <div class="tips-grid">
        <div class="tip-card">
          <h4>Begrijpend Lezen</h4>
          <ul>
            <li>Lees dagelijks Nederlandse kranten</li>
            <li>Zoek eerst de hoofdgedachte</li>
            <li>Let op signaalwoorden</li>
            <li>Oefen met verschillende tekstsoorten</li>
          </ul>
        </div>
        <div class="tip-card">
          <h4>Woordenschat Uitbreiden</h4>
          <ul>
            <li>Leer elke dag 5 nieuwe woorden</li>
            <li>Gebruik nieuwe woorden in zinnen</li>
            <li>Focus op politie-terminologie</li>
            <li>Herhaal woorden regelmatig</li>
          </ul>
        </div>
        <div class="tip-card">
          <h4>Grammatica</h4>
          <ul>
            <li>Oefen met werkwoordsvervoegingen</li>
            <li>Leer de basis grammaticaregels</li>
            <li>Let op dt-fouten</li>
            <li>Oefen met zinsbouw</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="grammar-overview" id="grammar-overview" style="margin-top:2rem;">
      <h3>📘 Grammatica Overzicht</h3>
      <div id="grammar-rules-container"></div>
    </section>

    <section class="data-import" style="margin-top:2rem;">
      <h3>🗂️ Data Import</h3>
      <div class="overview-grid">
        <div class="overview-card">
          <h4>Begrijpend Lezen (JSON)</h4>
          <input type="file" accept="application/json" onchange="handleImportFile(event, 'lezen')" />
          <p style="margin-top:0.5rem; color: var(--text-secondary);">Array van {type:'lezen', passage, vraag, opties[], antwoord}</p>
        </div>
        <div class="overview-card">
          <h4>Woordenschat (JSON/CSV)</h4>
          <input type="file" accept="application/json,text/csv" onchange="handleImportFile(event, 'woorden')" />
          <p style="margin-top:0.5rem; color: var(--text-secondary);">Vraag/opties/antwoord/uitleg</p>
        </div>
        <div class="overview-card">
          <h4>Grammatica (JSON/CSV)</h4>
          <input type="file" accept="application/json,text/csv" onchange="handleImportFile(event, 'grammatica')" />
          <p style="margin-top:0.5rem; color: var(--text-secondary);">Vraag/opties/antwoord/uitleg</p>
        </div>
        <div class="overview-card">
          <h4>Dagelijkse Woorden (JSON)</h4>
          <input type="file" accept="application/json" onchange="handleImportFile(event, 'dailyWords')" />
          <p style="margin-top:0.5rem; color: var(--text-secondary);">Array van {woord, betekenis, voorbeeld, type, niveau}</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 BlueBadge | Classified Training System</p>
    <p class="footer-note">Stay sharp. Stay ready. 🔍</p>
  </footer>

  <script src="i18n.js"></script>
  <script src="taal.js"></script>
  <script src="layout.js"></script>
</body>
</html>